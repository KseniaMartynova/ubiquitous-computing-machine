# Проект: Оценка производительности матричных операций различных библиотек линейной алгебры

## Описание
Данный проект предназначен для измерения производительности различных библиотек линейной алгебры при выполнении матричных операций, таких как разложения на основе методов LU, Cholesky и QR. Оценка проводится для разных размеров матриц и разных библиотек, таких как LAPACK, MKL и NumPy.

### Структура проекта
- `build/` — директория для сборки Docker контейнеров.
- `build.sh` — скрипт для сборки Docker контейнеров.
- `post_run.sh` — скрипт для обработки результатов и генерации CSV файлов после выполнения тестов.
- `requirements.txt` — файл с Python-зависимостями проекта.
- `result/` — директория для хранения результатов в формате CSV.
- `run.sh` — скрипт для запуска тестов производительности.
- `utils/` — утилиты, используемые для выполнения расчетов и обработки данных.

## Установка и запуск

### Шаг 1: Настройка окружения
Создайте и активируйте виртуальное окружение Python:

```bash
python -m venv venv
source venv/bin/activate  # для Windows: venv\Scripts\activate
```

Установите необходимые зависимости:

```bash
pip install -r requirements.txt
```

### Шаг 2: Сборка Docker контейнеров
Соберите Docker контейнеры, необходимые для выполнения тестов:

```bash
bash build.sh
```

### Шаг 3: Запуск тестов
Запустите тесты для измерения производительности матричных операций:
Результаты тестов будут сохранены в директории `result/` в виде txt файлов для каждой библиотеки и размера матриц: 100, 500, 1000, 10000, 20000.

```bash
bash run.sh
```

### Шаг 4: Постобработка результатов
После выполнения тестов выполните постобработку данных

```bash
bash post_run.sh
```

Результаты тестов будут сохранены в текущую директорию в виде CSV файлов для каждого размера матриц: 100, 500, 1000, 10000, 20000.

### Пример вывода в консоль
Во время выполнения скрипта результаты будут выводиться в консоль в виде таблицы. Пример для матриц размера 20000:

```sh
Size: 20000
+-----------------+------------+---------+----------+
| Name            |   time,sec |   cpu,% |   Mem,GB |
+=================+============+=========+==========+
| lapack_ch       |    20.7012 | 3211.25 |    9.069 |
+-----------------+------------+---------+----------+
| lapack_ch_clang |    20.3038 | 3210.42 |    9.069 |
+-----------------+------------+---------+----------+
| lapack_lu       |    72.8873 | 3214.19 |    9.049 |
+-----------------+------------+---------+----------+
| lapack_lu_clang |    72.6172 | 3213.63 |    9.049 |
+-----------------+------------+---------+----------+
| lapack_qr       |   187.136  | 3214.86 |   15.02  |
+-----------------+------------+---------+----------+
| lapack_qr_clang |   199.734  | 3217.28 |   15.02  |
+-----------------+------------+---------+----------+
| mkl_ch          |    10.1323 | 1608.89 |    7.812 |
+-----------------+------------+---------+----------+
| mkl_ch_clang    |    10.7051 | 1602.11 |    7.809 |
+-----------------+------------+---------+----------+
| mkl_lu          |    20.2905 | 1609.16 |    9.485 |
+-----------------+------------+---------+----------+
| mkl_lu_clang    |    20.3152 | 1607.42 |    9.485 |
+-----------------+------------+---------+----------+
| mkl_qr          |    35.9249 | 1607.2  |    9.388 |
+-----------------+------------+---------+----------+
| mkl_qr_clang    |    35.8225 | 1608.87 |    9.385 |
+-----------------+------------+---------+----------+
| num_ch          |    81.8046 | 3213.13 |   18.1   |
+-----------------+------------+---------+----------+
| num_lu          |    33.6184 | 3211.75 |   15.43  |
+-----------------+------------+---------+----------+
| num_qr          |   177.088  | 3213.73 |   21.08  |
+-----------------+------------+---------+----------+
```

